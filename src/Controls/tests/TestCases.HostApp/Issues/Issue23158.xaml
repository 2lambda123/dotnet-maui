<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Maui.Controls.Sample.Issues"
             x:Class="Maui.Controls.Sample.Issues.Issue23158"
             x:DataType="local:Issue23158">

  <VerticalStackLayout Padding="30,0">
    <Button AutomationId="AddEntry" Text="Add entry dynamically" Margin="0,0,0,50" Clicked="AddEntryButton_Clicked"/>
    
    <Grid>
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
        <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>

      <Grid.ColumnDefinitions>
        <ColumnDefinition Width="350" />
        <ColumnDefinition Width="*" />
      </Grid.ColumnDefinitions>

      <!-- First grid row. -->
      <Label Grid.Row="0" Grid.Column="0" Text="Entry.ClearButtonVisibility=Never"/>
      <Entry Grid.Row="0" Grid.Column="1" x:Name="Entry1" ClearButtonVisibility="Never" Text="A" />

      <!-- Second grid row. -->
      <Label Grid.Row="1" Grid.Column="0" Text="Entry.ClearButtonVisibility=WhileEditing"/>
      <Entry Grid.Row="1" Grid.Column="1" x:Name="Entry2" ClearButtonVisibility="WhileEditing" Text="B" />

      <!-- Third grid row. See #23112. -->
      <Label Grid.Row="2" Grid.Column="0" Text="Dynamically Entry.ClearButtonVisibility=Never + Focus"/>
      <VerticalStackLayout Grid.Row="2" Grid.Column="1" x:Name="Entry3Container" /> <!-- Container for a dynamically added entry. -->
    </Grid>

    <Label AutomationId="TestInstructions" Margin="0,50,0,0" FontAttributes="Bold" Text="Instructions: Click the top-most button and the third entry should not contain any clear button!"/>
  </VerticalStackLayout>
</ContentPage>