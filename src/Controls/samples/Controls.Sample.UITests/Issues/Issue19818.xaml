<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Maui.Controls.Sample.Issues.Issue19818"
             xmlns:local="clr-namespace:Maui.Controls.Sample.Issues">
  <VerticalStackLayout>
    <Label Text="1. Scroll down the list below until the list starts displaying the number 3." />
    <Label Text="2. Wait for the new data to load and continue scrolling until the list starts displaying the number 4." />
    <Label Text="3. Continue this pattern until the list starts displaying the number 10." />
    <Label Text="4. The test fails if the list scrolls you back to the top or you are not able to reach 10." />

    <CollectionView x:Name="TestCollectionView"
                    AutomationId="TestCollectionView"
                    Margin="5"
                    IsGrouped="True"
                    ItemsSource="{Binding Groups}"
                    RemainingItemsThreshold="1"
                    RemainingItemsThresholdReachedCommand="{Binding ThresholdReachedCommand, Source={RelativeSource AncestorType={x:Type local:Issue19818ViewModel}}}"
                    SelectionMode="None"
                    VerticalOptions="Fill">
      <CollectionView.ItemTemplate>
        <DataTemplate x:DataType="local:Issue19818Model">
          <Border Margin="0"
                  Padding="5"
                  VerticalOptions="Fill">
            <VerticalStackLayout VerticalOptions="Center">
              <Label FontAttributes="Bold"
                      FontSize="32"
                      HeightRequest="50"
                      HorizontalTextAlignment="Center"
                      Text="{Binding Name}"
                      VerticalOptions="CenterAndExpand" />
            </VerticalStackLayout>
          </Border>
        </DataTemplate>
      </CollectionView.ItemTemplate>
    </CollectionView>
  </VerticalStackLayout>
</ContentPage>